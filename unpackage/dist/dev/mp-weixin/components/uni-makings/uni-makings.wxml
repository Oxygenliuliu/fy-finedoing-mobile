<view data-event-opts="{{[['tap',[['hideSpec',['$event']]]]]}}" class="{{['popup spec',specClass]}}" bindtap="__e"><view class="mask"></view><view data-event-opts="{{[['tap',[['discard',['$event']]]]]}}" class="layer" style="{{'height:'+(wholeHeight+'px')+';'+('bottom:'+(-wholeHeight+'px')+';')}}" catchtap="__e"><view class="content"><view class="flex-row" style="display:flex;flex-direction:row;"><view class="flex-view-item specImg"><image src="{{ImageUrl+this.shopImgs}}"></image></view><view class="flex-view-item specsList"><text class="uni-goodsPrice" style="color:red;"><text>{{"￥ "+totalPrice}}</text></text><text data-event-opts="{{[['tap',[['hideSpec',['$event']]]]]}}" style="position:fixed;right:44px;" bindtap="__e"><view class="uni-icon uni-icon-close _i"></view></text><view class="specsName"><text>材料：</text><text>{{cailList}}</text></view><view class="specsName" style="width:96%;"><text>工艺：</text><block wx:for="{{gongYiName}}" wx:for-item="ite" wx:for-index="index" wx:key="index"><text>{{gongYiLen==index+1?ite:ite+','}}</text></block></view><view class="specsName"><text>规格：</text><text>{{guigWidth+"*"+guigHeight+guigMonad}}</text></view></view></view><scroll-view class="scroll-Y" scroll-top="{{scrollTop}}" scroll-y="true" data-event-opts="{{[['scroll',[['scroll',['$event']]]],['scrolltolower',[['lower',['$event']]]],['scrolltoupper',[['upper',['$event']]]]]}}" bindscroll="__e" bindscrolltolower="__e" bindscrolltoupper="__e"><view class="scroll-view-item"><view class="clearfix" style="border-top:1px solid #aaa;margin-top:15px;"><view class="title">选择规格：</view><view style="padding:0 10px 10px 0;"><view class="enter"><text>宽</text><input type="number" pattern="[0-9]*" placeholder="请输入宽度" placeholder-style="color: #c0c0c0;font-size:0.7rem" data-event-opts="{{[['focus',[['ficusInput',['$event']]]],['blur',[['widthInput',['$event']]]],['input',[['__set_model',['','width','$event',[]]]]]]}}" value="{{width}}" bindfocus="__e" bindblur="__e" bindinput="__e"/><text>mm</text><text style="padding:20px;margin-left:10px;"></text><text>高</text><input type="number" pattern="[0-9]*" placeholder="请输入高度" placeholder-style="color: #c0c0c0;font-size:0.7rem" data-event-opts="{{[['focus',[['ficusInput',['$event']]]],['blur',[['heightInput',['$event']]]],['input',[['__set_model',['','height','$event',[]]]]]]}}" value="{{height}}" bindfocus="__e" bindblur="__e" bindinput="__e"/><text style="margin-left:7px;">mm</text></view></view><view class="sp"><block wx:for="{{unitlist}}" wx:for-item="ggList" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['norms',[index]]]]]}}" style="{{'color:'+(ggList.width==guigWidth&&ggList.height==guigHeight||index==ggcheckNum?'#FFF':'#000000')+';'+('background:'+(ggList.width==guigWidth&&ggList.height==guigHeight||index==ggcheckNum?'#FF0000':'#f3f2f8')+';')}}" bindtap="__e">{{ggList.width+"*"+ggList.height+"\n\t\t\t\t\t\t\t\t"+ggList.monad}}</view></block></view></view><block wx:for="{{allLevel}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="border-bottom:1px solid #aaa;margin-top:15px;"><view class="title">{{item.name+"："}}</view><view class="sp"><block wx:for="{{item.items}}" wx:for-item="ite" wx:for-index="inde" wx:key="inde"><view data-event-opts="{{[['tap',[['levelTap',[index,'$0',inde],[[['allLevel','',index],['items','',inde,'tid']]]]]]]}}" style="{{'color:'+(inde==item.checked?'#FFF':'#000000')+';'+('background:'+(inde==item.checked?'#FF0000':'#f3f2f8')+';')}}" bindtap="__e">{{ite.dname}}</view></block></view></view></block><view><view class="title">选择材料：</view><view class="sp"><block wx:for="{{stuffList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="{{'color:'+(item.g_id==caiLiaoId||index==checkNum?'#FFF':'#000000')+';'+('background:'+(item.g_id==caiLiaoId||index==checkNum?'#FF0000':'#f3f2f8')+';')}}" data-gid="{{stuffList.g_id}}" data-event-opts="{{[['tap',[['makings',[index]]]]]}}" bindtap="__e">{{item.g_name}}</view></block></view></view><view style="border-top:1px solid #aaa;margin-top:15px;"><view class="title">选择工艺：</view><view class="sp"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="{{[(item.g0!=-1||item.g1!=-1)?'cur':'']}}" data-thid="{{item.$orig.th_id}}" data-event-opts="{{[['tap',[['craftTap',[index,'$0'],[[['craft','',index]]]]]]]}}" bindtap="__e">{{item.$orig.th_name}}</view></block></view><view class="{{[(gongYiShow)?'gyshow':'']}}" style="color:#C0C0C0;">该材料没有可选择的工艺</view></view><view class="length" style="height:60%;"><view class="text">数量：</view><view class="number" style="margin-left:12.4rem;margin-top:-1.2rem;"><view data-event-opts="{{[['tap',[['sub',['$event']]]]]}}" class="sub" catchtap="__e"><view class="icon jian"></view></view><view data-event-opts="{{[['tap',[['discard',['$event']]]]]}}" class="input" catchtap="__e"><input type="number" data-event-opts="{{[['blur',[['numberInput',['$event']]]]]}}" value="{{number}}" bindblur="__e"/></view><view data-event-opts="{{[['tap',[['add',['$event']]]]]}}" class="add" catchtap="__e"><view class="icon jia"></view></view></view></view></view></scroll-view></view><view class="btn"><view data-event-opts="{{[['tap',[['makingshideSpec',['$event']]]]]}}" class="button end" bindtap="__e">完成</view></view></view></view>